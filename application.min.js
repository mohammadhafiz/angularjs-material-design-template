!function(e,t){e.encrypt=function(n,o){o="undefined"==typeof o?t.element(document).injector().get("secret"):o;var a=e.CryptoJS.AES.encrypt(n,o);return a.toString()},e.decrypt=function(n,o){o="undefined"==typeof o?t.element(document).injector().get("secret"):o;var a=e.CryptoJS.AES.decrypt(n,o);return a.toString(e.CryptoJS.enc.Utf8)}}(window,angular);var application=angular.module("application",["m","ngAnimate","ngAria","ngMaterial","ngMessageFormat","ngMessages","ngResource","ngRoute","ngSanitize","pascalprecht.translate","application.templates"]);application.config(["$httpProvider",function(e){e.defaults.headers={common:{"Content-Type":"application/json"},post:{"Content-Type":"application/json"},put:{"Content-Type":"application/json"},"delete":{"Content-Type":"application/json"}},e.interceptors.push("HttpInterceptor")}]),application.config(["$mdThemingProvider",function(e){e.alwaysWatchTheme(!0),e.theme("cyan").primaryPalette("cyan").accentPalette("indigo"),e.theme("deep-purple").primaryPalette("deep-purple").accentPalette("indigo"),e.theme("green").primaryPalette("green").accentPalette("indigo"),e.theme("light-green").primaryPalette("light-green").accentPalette("indigo"),e.theme("purple").primaryPalette("purple").accentPalette("indigo"),e.theme("pink").primaryPalette("pink").accentPalette("indigo"),e.theme("red").primaryPalette("red").accentPalette("indigo"),e.theme("teal").primaryPalette("teal").accentPalette("indigo"),e.theme("grey").primaryPalette("grey",{"default":"200"}).accentPalette("blue"),e.theme("white").primaryPalette("grey",{"default":"200"}).accentPalette("blue")}]),application.config(["$translateProvider",function(e){e.useSanitizeValueStrategy("sanitize"),e.preferredLanguage("en")}]),application.config(["$locationProvider","$routeProvider",function(e,t){e.html5Mode(!0).hashPrefix("!#"),t.otherwise({redirectTo:"/dashboard"})}]),application.factory("Settings",function(){var e={};return e}),application.config(["$routeProvider",function(e){e.when("/charts",{controller:"ChartsController",templateUrl:"charts/charts.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$routeProvider",function(e){e.when("/dashboard",{controller:"DashboardController",templateUrl:"dashboard/dashboard.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$routeProvider",function(e){e.when("/dropDown",{controller:"DropDownController",templateUrl:"drop_down/drop_down.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$routeProvider",function(e){e.when("/forms",{controller:"FormsController",templateUrl:"forms/forms.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$routeProvider",function(e){e.when("/samplePages",{controller:"SamplePagesController",templateUrl:"sample_pages/sample_pages.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$routeProvider",function(e){e.when("/tables",{controller:"TablesController",templateUrl:"tables/tables.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$routeProvider",function(e){e.when("/uiElement",{controller:"UiElementController",templateUrl:"ui_element/ui_element.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$translateProvider",function(e){e.translations("en",{action_back:"Back",action_comment:"Comment",action_details:"Details",action_email:"Email",action_menu:"Menu",action_notifications:"Notifications",action_person:"Person",action_reset:"Reset",action_search:"Search",action_shopping_cart:"Shopping Cart",title_insert_chart:"Charts",title_dashboard:"Dashboard",title_drop_down:"Multi-Level DropDown",title_form:"Forms",title_home:"Home",title_menu:"Menu",title_sample_pages:"Sample Pages",title_table:"Tables",title_ui_element:"Ui Element",toast_incorrect_credentials:"The user credentials is incorrect.",toast_invalid_refresh_token:"The refresh token is invalid.",toast_method_not_allowed:"Request to the resource is not allowed.",toast_validation_failed:"Validation failed on server.",validation_maxlength_24:"This field may not be greater than 24 characters.",validation_maxlength_255:"This field may not be greater than 255 characters.",validation_maxlength_40:"This field may not be greater than 40 characters.",validation_minlength_4:"This field must be at least 4 characters.",validation_required:"This field is required."})}]),application.config(["$translateProvider",function(e){e.translations("ms",{toast_incorrect_credentials:"The user credentials is incorrect.",toast_invalid_refresh_token:"The refresh token is invalid.",toast_method_not_allowed:"Request to the resource is not allowed.",toast_validation_failed:"Validation failed on server.",validation_maxlength_24:"This field may not be greater than 24 characters.",validation_maxlength_255:"This field may not be greater than 255 characters.",validation_maxlength_40:"This field may not be greater than 40 characters.",validation_minlength_4:"This field must be at least 4 characters.",validation_required:"This field is required."})}]),application.controller("ChartsController",["$mdSidenav","$scope",function(e,t){t.theme="teal",t.close=function(){e("menu").close()},t.menu=function(){e("menu").open()},t.query={username:""},t.reset=function(){t.query.$=""}}]),application.controller("DashboardController",["$interval","$mdSidenav","$scope",function(e,t,n){n.theme="cyan",n.close=function(){t("menu").close()},n.menu=function(){t("menu").open()},n.query={username:""},n.reset=function(){n.query.$=""};var o=this,a=0,r=0;o.mode="query",o.activated=!0,o.determinateValue=30,o.determinateValue2=30,o.modes=[],o.toggleActivation=function(){o.activated||(o.modes=[]),o.activated&&(a=r=0,o.determinateValue=30,o.determinateValue2=30)},e(function(){o.determinateValue+=1,o.determinateValue2+=1.5,o.determinateValue>100&&(o.determinateValue=30),o.determinateValue2>100&&(o.determinateValue2=30),2>a&&!o.modes[a]&&o.activated&&(o.modes[a]=0==a?"buffer":"query"),r++%4==0&&a++,2==a&&(o.contained="indeterminate")},100,0,!0),e(function(){o.mode="query"==o.mode?"determinate":"query"},7200,0,!0)}]),application.controller("DropDownController",["$mdSidenav","$scope",function(e,t){t.theme="teal",t.close=function(){e("menu").close()},t.menu=function(){e("menu").open()},t.query={username:""},t.reset=function(){t.query.$=""}}]),application.controller("FormsController",["$mdSidenav","$scope","$translate",function(e,t,n){t.theme="teal",t.close=function(){e("menu").close()},t.menu=function(){e("menu").open()},t.query={$:""},t.reset=function(){t.query.$=""},t.user={title:"Developer",email:"mohammadhafizamiruddin@gmail.com",firstName:"Mohammad Hafiz",lastName:"Amiruddin",company:"Menggaris It Sdn Bhd",address:"Batu 3",address2:"Jalan Apas",city:"Tawau",state:"Sabah",biography:"Loves kittens, snowboarding, and can type at 130 WPM.\n\nAnd rumor has it she bouldered up Castle Craig!",postalCode:"91000"},t.title1="Button",t.title4="Warn",t.isDisabled=!0,t.googleUrl="http://google.com"}]),application.controller("SamplePagesController",["$mdSidenav","$scope",function(e,t){t.theme="teal",t.close=function(){e("menu").close()},t.menu=function(){e("menu").open()},t.query={username:""},t.reset=function(){t.query.$=""}}]),application.controller("TablesController",["$mdSidenav","$scope",function(e,t){t.theme="teal",t.close=function(){e("menu").close()},t.menu=function(){e("menu").open()},t.query={username:""},t.reset=function(){t.query.$=""}}]),application.controller("UiElementController",["$mdSidenav","$scope",function(e,t){t.theme="deep-purple",t.close=function(){e("menu").close()},t.items=[1,2,3,4,5],t.menu=function(){e("menu").open()},t.exists=function(e,t){return t.indexOf(e)>-1},t.myDate=new Date,t.minDate=new Date(t.myDate.getFullYear(),t.myDate.getMonth()-2,t.myDate.getDate()),t.maxDate=new Date(t.myDate.getFullYear(),t.myDate.getMonth()+2,t.myDate.getDate()),t.color={red:Math.floor(255*Math.random()),green:Math.floor(255*Math.random()),blue:Math.floor(255*Math.random())},t.rating1=3,t.rating2=2,t.rating3=4,t.disabled1=0,t.disabled2=70,t.query={username:""},t.reset=function(){t.query.$=""},t.selected=[],t.toggle=function(e,t){var n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e)}}]),application.controller("DashboardMenuController",["$location","$scope",function(e,t){t.dashboard=function(){e.path("/dashboard")},t.charts=function(){e.path("/charts")},t.tables=function(){e.path("/tables")},t.forms=function(){e.path("/forms")},t.uiElement=function(){e.path("/uiElement")},t.dropDown=function(){e.path("/dropDown")},t.samplePages=function(){e.path("/samplePages")}}]),application.factory("API",["Settings",function(e){var t={};return t.access_token="/api/access_token",t.session="/api/session",t.users="/api/users/:user_id",t.get=function(n){return e.host.concat(t[n])},t}]),application.factory("Auth",["$http","$location","$q","$window","API","Settings",function(e,t,n,o,a,r){var i={};return i.forget=function(){var e=n.defer();return o.localStorage.removeItem("expires_in"),o.localStorage.removeItem("access_token"),o.localStorage.removeItem("refresh_token"),o.localStorage.removeItem("token_type"),o.localStorage.removeItem("id"),o.localStorage.removeItem("type"),o.localStorage.removeItem("scopes"),t.path("/login"),e.resolve(),e.promise},i.handler=function(e){return o.localStorage.expires_in=e.data.expires_in,o.localStorage.access_token=e.data.access_token,o.localStorage.refresh_token=e.data.refresh_token,o.localStorage.token_type=e.data.token_type,e},i.id=function(){return o.localStorage.hasOwnProperty("id")?angular.fromJson(o.localStorage.id):!1},i.isGuest=function(){var e=n.defer();return i.isLogged().then(function(){e.reject("auth.is_guest")})["catch"](function(){e.resolve(!0)}),e.promise},i.isLogged=function(){var e=n.defer();return o.localStorage.hasOwnProperty("expires_in")&&o.localStorage.hasOwnProperty("access_token")&&o.localStorage.hasOwnProperty("refresh_token")&&o.localStorage.hasOwnProperty("token_type")?e.resolve(!0):e.reject("auth.is_logged"),e.promise},i.refresh=function(){var t={grant_type:"refresh_token",user_id:r.user_id,user_secret:r.user_secret,scope:r.scopes.join(),refresh_token:o.localStorage.refresh_token};return e.post(a.get("access_token"),t).then(i.handler)},i.scopes=function(){return o.localStorage.hasOwnProperty("scopes")?angular.fromJson(o.localStorage.scopes):!1},i.session=function(){return e.get(a.get("session")).then(function(e){console.info(e),o.localStorage.id=angular.toJson(e.data.id),o.localStorage.type=angular.toJson(e.data.type),o.localStorage.scopes=angular.toJson(e.data.scopes)})},i.type=function(){return o.localStorage.hasOwnProperty("type")?angular.fromJson(o.localStorage.type):!1},i.verify=function(t){var n={grant_type:"password",user_id:r.user_id,user_secret:r.user_secret,scope:r.scopes.join(),username:t.username,password:t.password};return e.post(a.get("access_token"),n).then(i.handler)},i}]),application.factory("HttpInterceptor",["$injector","$q","$translate","$window",function(e,t,n,o){var a=null,r={};return r.request=function(t){if(e.get("Auth").isLogged()){var n=o.localStorage.token_type,a=o.localStorage.access_token;t.headers.Authorization=n+" "+a}return t},r.responseError=function(o){switch(console.error(o),o.status){case 401:return a=a?a:e.get("Auth").refresh(),a["finally"](function(){a=null}).then(function(){return e.get("$http")(o.config)});case 405:return n("toast_method_not_allowed").then(function(t){var n=e.get("$mdToast"),o=n.simple().content(t).position("bottom left right");n.show(o)}),t.reject(o);case 422:return n("toast_validation_failed").then(function(t){var n=e.get("$mdToast"),o=n.simple().content(t).position("bottom left right");n.show(o)}),t.reject(o);case 500:return"The user credentials were incorrect."==o.data.message?(n("toast_incorrect_credentials").then(function(t){var n=e.get("$mdToast"),o=n.simple().content(t).position("bottom left right");n.show(o)}),t.reject(o)):("The refresh token is invalid."==o.data.message&&n("toast_invalid_refresh_token").then(function(t){var n=e.get("$mdToast"),o=n.simple().content(t).position("bottom left right");n.show(o)}),e.get("Auth").forget(),t.reject(o))}},r}]);
//# sourceMappingURL=application.min.js.map